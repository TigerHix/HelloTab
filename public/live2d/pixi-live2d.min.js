/*!
 * The following license applies to some parts of the software which is from Live2D Inc.
 * 
 * This is a Software Development Kit (SDK) for developing Live2D-Cubism-powered applications on WebGL.
 * The SDK contains proprietary libraries and sample projects.
 * Read this document when using the SDK.
 * 
 * 	Read Live2D License Agreement
 * 	for business
 * 	http://live2d.com/en/sdk_license_cubism
 * 
 * 	for indie
 * 	http://live2d.com/en/sdk_license_cubism_indie
 * 
 * 	After agree and accept Live2D SDK License Agreement, the content in the following folders may be placed in the server which you control
 * 
 * ==========================
 * 
 * The following license applies to pixi.js.
 * 
 * https://github.com/pixijs/pixi.js/blob/master/LICENSE
 * 
 * ==========================
 * 
 * The following license applies to the other parts of the software.
 * 
 * MIT License
 * 
 * Copyright (c) 2016 Icemic Jia <bingfeng.web@gmail.com>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("PIXI"));else if("function"==typeof define&&define.amd)define(["PIXI"],e);else{var o=e("object"==typeof exports?require("PIXI"):t.PIXI);for(var a in o)("object"==typeof exports?exports:t)[a]=o[a]}}(this,function(t){return function(t){function e(a){if(o[a])return o[a].exports;var i=o[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,o,a){return o&&t(e.prototype,o),a&&t(e,a),e}}(),u=function t(e,o,a){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,o);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,o,a)}if("value"in i)return i.value;var n=i.get;if(void 0!==n)return n.call(a)},h=o(1),M=o(2),d=a(M),c=o(3),S=o(5),p=a(S),I=o(9),f=function(t){function e(t,o){r(this,e);var a=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));a.interactive=!0,a.platform=window.navigator.platform.toLowerCase();var i=Object.assign({priorityForce:3,priorityDefault:1,debugLog:!1,debugMouseLog:!1,eyeBlink:!0,lipSyncWithSound:!0,randomMotion:!0,defaultMotionGroup:"idle",audioPlayer:null},o);return h.Live2D.init(),a.model=new d.default(i),a.gl=null,a.canvas=null,a.dragMgr=null,a.viewMatrix=null,a.projMatrix=null,a.deviceToScreen=null,a.texture=null,a.modelReady=!1,a.onModelReady=[],a.modelDefine=t,a}return s(e,t),l(e,[{key:"init",value:function(){var t=this,e=this.canvas.width,o=this.canvas.height;this.texture=I.RenderTexture.create(e,o),this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height,this.dragMgr=new c.L2DTargetPoint;var a=o/e,i=-1,r=1,n=-a,s=a;this.viewMatrix=new c.L2DViewMatrix,this.viewMatrix.setMaxScreenRect(-2,2,-2,2),this.viewMatrix.setScreenRect(i,r,n,s),this.projMatrix=new c.L2DMatrix44,this.projMatrix.multScale(a,1),this.deviceToScreen=new c.L2DMatrix44,this.deviceToScreen.multTranslate(-e/2,-o/2),this.deviceToScreen.multScale(2/e,-2/o),h.Live2D.setGL(this.gl),this.x=e/2,this.y=o/2,this.anchor.x=.5,this.anchor.y=.5,this.scale.y=-1,this.gl.clearColor(0,0,0,0),this.model.load(this.gl,this.modelDefine,function(){t.modelReady=!0})}},{key:"draw",value:function(){p.default.reset(),p.default.loadIdentity(),this.dragMgr.update(),this.model.setDrag(this.dragMgr.getX(),this.dragMgr.getY()),p.default.multMatrix(this.projMatrix.getArray()),p.default.multMatrix(this.viewMatrix.getArray()),p.default.push(),this.model.update(),this.model.draw(this.gl),p.default.pop()}},{key:"_renderWebGL",value:function(t){if(this.gl||(this.gl=t.gl,this.canvas=t.view,this.modelDefine&&this.init(this.modelDefine)),!this.modelReady){var o=t.gl;return void o.activeTexture(o.TEXTURE0)}for(;this.onModelReady.length;){var a=this.onModelReady.shift();a()}if(this.visible){var r=!(!t.createVao||!t.bindVao),n=void 0;r?n=t._activeVao:t.flush();var s=t.gl,l=s.getParameter(s.ARRAY_BUFFER_BINDING),h=s.getParameter(s.ELEMENT_ARRAY_BUFFER_BINDING),M=s.getParameter(s.CURRENT_PROGRAM),d=void 0;r||(d=s.getParameter(s.ACTIVE_TEXTURE)),s.activeTexture(s.TEXTURE0);var c=s.getParameter(s.TEXTURE_BINDING_2D);s.activeTexture(s.TEXTURE1);var S=s.getParameter(s.TEXTURE_BINDING_2D),p=s.getParameter(s.FRONT_FACE),I=s.getParameter(s.COLOR_WRITEMASK),f=void 0,x=void 0,D=void 0,m=void 0;r||(f=s.getVertexAttrib(0,s.VERTEX_ATTRIB_ARRAY_ENABLED),x=s.getVertexAttrib(1,s.VERTEX_ATTRIB_ARRAY_ENABLED),D=s.getVertexAttrib(2,s.VERTEX_ATTRIB_ARRAY_ENABLED),m=s.getVertexAttrib(3,s.VERTEX_ATTRIB_ARRAY_ENABLED));var F=s.isEnabled(s.SCISSOR_TEST),y=s.isEnabled(s.STENCIL_TEST),v=s.isEnabled(s.DEPTH_TEST),g=s.isEnabled(s.CULL_FACE),T=s.isEnabled(s.BLEND),E=t._activeTexture?t._activeTextureLocation:0,P=t._activeRenderTarget,_=void 0;r&&(_=t.createVao(),t.bindVao(_)),t.bindRenderTexture(this.texture),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),s.frontFace(s.CW),this.draw(),r||(t._activeTextureLocation=E,s.activeTexture(s.TEXTURE0+E)),s.bindTexture(s.TEXTURE_2D,null),s.useProgram(M),t.bindRenderTarget(P),s.bindBuffer(s.ARRAY_BUFFER,l),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,h),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,c),s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,S),r||s.activeTexture(d),s.frontFace(p),s.colorMask.apply(s,i(I)),r||(f?s.enableVertexAttribArray(0):s.disableVertexAttribArray(0),x?s.enableVertexAttribArray(1):s.disableVertexAttribArray(1),D?s.enableVertexAttribArray(2):s.disableVertexAttribArray(2),m?s.enableVertexAttribArray(3):s.disableVertexAttribArray(3)),F?s.enable(s.SCISSOR_TEST):s.disable(s.SCISSOR_TEST),y?s.enable(s.STENCIL_TEST):s.disable(s.STENCIL_TEST),v?s.enable(s.DEPTH_TEST):s.disable(s.DEPTH_TEST),g?s.enable(s.CULL_FACE):s.disable(s.CULL_FACE),T?s.enable(s.BLEND):s.disable(s.BLEND),r&&(_.unbind(),_.destroy(),t.bindVao(n)),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_renderWebGL",this).call(this,t)}}},{key:"destroy",value:function(){var t;this.model.release();for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];(t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this)).call.apply(t,[this].concat(a))}},{key:"containsPoint",value:function(t){return!!this.modelReady&&this.hitTest(null,t.x,t.y)}},{key:"adjustScale",value:function(t,e,o){var a=this;this.onModelReady.push(function(){a.viewMatrix.adjustScale(t,e,o)})}},{key:"adjustTranslate",value:function(t,e){var o=this;this.onModelReady.push(function(){o.viewMatrix.adjustTranslate(t,-e)})}},{key:"setLipSync",value:function(t){null===t?this.model.setLipSync(!1):(this.model.setLipSync(!0),this.model.setLipSyncValue(t))}},{key:"setRandomExpression",value:function(){var t=this;this.onModelReady.push(function(){t.model.setRandomExpression()})}},{key:"startRandomMotion",value:function(t,e){var o=this;this.onModelReady.push(function(){o.model.startRandomMotion(t,e)})}},{key:"startRandomMotionOnce",value:function(t,e){var o=this;this.onModelReady.push(function(){o.model.startRandomMotionOnce(t,e)})}},{key:"stopRandomMotion",value:function(){var t=this;this.onModelReady.push(function(){t.model.stopRandomMotion()})}},{key:"startMotion",value:function(t,e,o){var a=this;this.onModelReady.push(function(){a.model.startMotion(t,e,o)})}},{key:"playSound",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";this.onModelReady.push(function(){e.model.playSound(t,o)})}},{key:"hitTest",value:function(t,e,o){return this.model.hitTest(t,this.viewMatrix.invertTransformX(this.deviceToScreen.transformX(e)),this.viewMatrix.invertTransformY(this.deviceToScreen.transformY(o)))}},{key:"setViewPoint",value:function(t,e){this.dragMgr.setPoint(this.viewMatrix.invertTransformX(this.deviceToScreen.transformX(t)),this.viewMatrix.invertTransformY(this.deviceToScreen.transformY(e)))}},{key:"getParamFloat",value:function(t){return this.model.getLive2DModel().getParamFloat(t)}},{key:"setParamFloat",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.model.getLive2DModel().setParamFloat(t,e,o)}},{key:"addToParamFloat",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.model.getLive2DModel().addToParamFloat(t,e,o)}},{key:"multParamFloat",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.model.getLive2DModel().multParamFloat(t,e,o)}}]),e}(I.Sprite);e.default=f,I?I.Live2DSprite=f:console.error("Error: Cannot find global variable `PIXI`, Live2D plguin will not be installed.")},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UtSystem=UtSystem,e.UtDebug=UtDebug,e.LDTransform=LDTransform,e.LDGL=LDGL,e.Live2D=Live2D,e.Live2DModelWebGL=Live2DModelWebGL,e.Live2DModelJS=Live2DModelJS,e.Live2DMotion=Live2DMotion,e.MotionQueueManager=MotionQueueManager,e.PhysicsHair=PhysicsHair,e.AMotion=AMotion,e.PartsDataID=PartsDataID,e.DrawDataID=DrawDataID,e.BaseDataID=BaseDataID,e.ParamID=ParamID},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t){r.L2DBaseModel.prototype.constructor.call(this),this.options=t,this.randomMotion=this.options.randomMotion,this.randomMotionGroup=null,this.randomMotionPriority=null,this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[],this.audioElement=null,this.audioContext=null,this.audioAnalyser=null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=o(3),n=o(5),s=a(n),l=o(8),u=a(l);i.prototype=new r.L2DBaseModel,i.prototype.load=function(t,e,o){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir="./",this.modelSetting=new u.default(e);var a=this,i=a.modelHomeDir+a.modelSetting.getModelFile();a.loadModelData(i,function(e){for(var i=0;i<a.modelSetting.getTextureNum();i++){var n=a.modelHomeDir+a.modelSetting.getTextureFile(i);a.loadTexture(t,i,n,function(){if(a.isTexLoaded){if(a.modelSetting.getExpressionNum()>0){a.expressions={};for(var t=0;t<a.modelSetting.getExpressionNum();t++){var e=a.modelSetting.getExpressionName(t),i=a.modelHomeDir+a.modelSetting.getExpressionFile(t);a.loadExpression(e,i)}}else a.expressionManager=null,a.expressions={};if(a.eyeBlink||(a.eyeBlink=new r.L2DEyeBlink),a.modelSetting.getPhysicsFile()?a.loadPhysics(a.modelHomeDir+a.modelSetting.getPhysicsFile()):a.physics=null,a.modelSetting.getPoseFile()?a.loadPose(a.modelHomeDir+a.modelSetting.getPoseFile(),function(){a.pose.updateParam(a.live2DModel)}):a.pose=null,a.modelSetting.getLayout()){var n=a.modelSetting.getLayout();null!=n.width&&a.modelMatrix.setWidth(n.width),null!=n.height&&a.modelMatrix.setHeight(n.height),null!=n.x&&a.modelMatrix.setX(n.x),null!=n.y&&a.modelMatrix.setY(n.y),null!=n.center_x&&a.modelMatrix.centerX(n.center_x),null!=n.center_y&&a.modelMatrix.centerY(n.center_y),null!=n.top&&a.modelMatrix.top(n.top),null!=n.bottom&&a.modelMatrix.bottom(n.bottom),null!=n.left&&a.modelMatrix.left(n.left),null!=n.right&&a.modelMatrix.right(n.right)}for(var t=0;t<a.modelSetting.getInitParamNum();t++)a.live2DModel.setParamFloat(a.modelSetting.getInitParamID(t),a.modelSetting.getInitParamValue(t));for(var t=0;t<a.modelSetting.getInitPartsVisibleNum();t++)a.live2DModel.setPartsOpacity(a.modelSetting.getInitPartsVisibleID(t),a.modelSetting.getInitPartsVisibleValue(t));a.live2DModel.saveParam(),a.preloadMotionGroup(a.options.defaultMotionGroup),a.mainMotionManager.stopAllMotions(),a.setUpdating(!1),a.setInitialized(!0),"function"==typeof o&&o()}})}})},i.prototype.release=function(t){},i.prototype.preloadMotionGroup=function(t){for(var e=this,o=0;o<this.modelSetting.getMotionNum(t);o++){var a=this.modelSetting.getMotionFile(t,o);this.loadMotion(a,this.modelHomeDir+a,function(a){a.setFadeIn(e.modelSetting.getMotionFadeIn(t,o)),a.setFadeOut(e.modelSetting.getMotionFadeOut(t,o))})}},i.prototype.update=function(){if(!this.live2DModel)return void(this.options.debugLog&&console.error("Failed to update."));var t=UtSystem.getUserTimeMSec()-this.startTimeMSec,e=t/1e3;2*e*Math.PI;this.mainMotionManager.isFinished()&&this.randomMotion&&this.startRandomMotion(this.randomMotionGroup||this.options.defaultMotionGroup,this.randomMotionPriority||this.options.priorityDefault),this.live2DModel.loadParam();var o=this.mainMotionManager.updateParam(this.live2DModel);o||this.eyeBlink&&this.options.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),this.expressionManager&&this.expressions&&!this.expressionManager.isFinished()&&this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.physics&&this.physics.updateParam(this.live2DModel),this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()},i.prototype.setRandomExpression=function(){var t=[];for(var e in this.expressions)t.push(e);var o=parseInt(Math.random()*t.length);this.setExpression(t[o])},i.prototype.startRandomMotion=function(t,e){var o=this.modelSetting.getMotionNum(t),a=parseInt(Math.random()*o);this.startMotion(t,a,e),this.randomMotion=!0,this.randomMotionGroup=t,this.randomMotionPriority=e},i.prototype.startRandomMotionOnce=function(t,e){var o=this.modelSetting.getMotionNum(t),a=parseInt(Math.random()*o);this.startMotion(t,a,e)},i.prototype.stopRandomMotion=function(){this.randomMotion=!1,this.randomMotionGroup=null,this.randomMotionPriority=null},i.prototype.startMotion=function(t,e,o){var a=this.modelSetting.getMotionFile(t,e);if(null==a||""==a)return void(this.options.debugLog&&console.warn("Failed to motion."));if(o==this.options.priorityForce)this.mainMotionManager.setReservePriority(o);else if(!this.mainMotionManager.reserveMotion(o))return void(this.options.debugLog&&console.log("Motion is running."));var i,r=this;null==this.motions[t]?this.loadMotion(null,this.modelHomeDir+a,function(a){i=a,r.setFadeInFadeOut(t,e,o,i)}):(i=this.motions[t],r.setFadeInFadeOut(t,e,o,i))},i.prototype.setFadeInFadeOut=function(t,e,o,a){var i=this.modelSetting.getMotionFile(t,e);if(a.setFadeIn(this.modelSetting.getMotionFadeIn(t,e)),a.setFadeOut(this.modelSetting.getMotionFadeOut(t,e)),this.options.debugLog&&console.log("Start motion : "+i),null==this.modelSetting.getMotionSound(t,e))this.mainMotionManager.startMotionPrio(a,o);else{var r=this.modelSetting.getMotionSound(t,e);this.options.debugLog&&console.log("Start sound : "+r),this.playSound(r,this.modelHomeDir),this.mainMotionManager.startMotionPrio(a,o)}},i.prototype.playSound=function(t,e){var o=this;if(this.options.audioPlayer)this.options.audioPlayer(t,e);else{var a=this.audioElement||document.createElement("audio");!this.audioElement&&(this.audioElement=a),a.src=e+t;var i=window.AudioContext||window.webkitAudioContext;if(i&&this.options.lipSyncWithSound){var r;!function(){var t=o.audioContext||new i;o.audioContext||(o.audioContext=t,o.audioElementSource=t.createMediaElementSource(a));var e=o.audioElementSource,n=o.audioAnalyser||t.createAnalyser();!o.audioAnalyser&&(o.audioAnalyser=n),n.fftSize=32,r=n.frequencyBinCount;var s=[],l=Date.now(),u=setInterval(function(){var t=new Uint8Array(r);n.getByteFrequencyData(t);var e=(t[9]+t[10]+t[11])/3;if(Date.now()-l<33)s.push(e);else{var a=s.length?s.reduce(function(t,e){return e+=t})/s.length/100:o.lipSyncValue;o.lipSync=!0,o.lipSyncValue=a,l=Date.now(),s=[]}},0);a.addEventListener("ended",function(){clearInterval(u),o.lipSyncValue=0}),e.connect(n),n.connect(t.destination)}()}a.play()}},i.prototype.setExpression=function(t){var e=this.expressions[t];this.options.debugLog&&console.log("Expression : "+t),this.expressionManager.startMotion(e,!1)},i.prototype.draw=function(t){s.default.push(),s.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=s.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),s.default.pop()},i.prototype.hitTest=function(t,e,o){for(var a=this.modelSetting.getHitAreaNum(),i=!1,r=0;r<a;r++)if(null==t){var n=this.modelSetting.getHitAreaID(r);if(i=this.hitTestSimple(n,e,o))return i}else if(t==this.modelSetting.getHitAreaName(r)){var n=this.modelSetting.getHitAreaID(r);return this.hitTestSimple(n,e,o)}return!1}},function(t,e,o){"use strict";function a(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new u,this.expressionManager=new u,this.motions={},this.expressions={},this.isTexLoaded=!1}function i(){p.AMotion.prototype.constructor.call(this),this.paramList=new Array}function r(){this.id="",this.type=-1,this.value=null}function n(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=x.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function s(){this.tr=new Float32Array(16),this.identity()}function l(t,e){s.prototype.constructor.call(this),this.width=t,this.height=e}function u(){p.MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=p.MotionQueueManager.prototype}function h(){this.physicsList=new Array,this.startTimeMSec=p.UtSystem.getUserTimeMSec()}function M(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function d(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function c(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function S(){s.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}Object.defineProperty(e,"__esModule",{value:!0}),e.L2DBaseModel=a,e.L2DExpressionMotion=i,e.L2DExpressionParam=r,e.L2DEyeBlink=n,e.L2DMatrix44=s,e.L2DModelMatrix=l,e.L2DMotionManager=u,e.L2DPhysics=h,e.L2DPose=M,e.L2DPartsParam=d,e.L2DTargetPoint=c,e.L2DViewMatrix=S;var p=o(1),I=o(4),f=0;a.prototype.getModelMatrix=function(){return this.modelMatrix},a.prototype.setAlpha=function(t){t>.999&&(t=1),t<.001&&(t=0),this.alpha=t},a.prototype.getAlpha=function(){return this.alpha},a.prototype.isInitialized=function(){return this.initialized},a.prototype.setInitialized=function(t){this.initialized=t},a.prototype.isUpdating=function(){return this.updating},a.prototype.setUpdating=function(t){this.updating=t},a.prototype.getLive2DModel=function(){return this.live2DModel},a.prototype.setLipSync=function(t){this.lipSync=t},a.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},a.prototype.setAccel=function(t,e,o){this.accelX=t,this.accelY=e,this.accelZ=o},a.prototype.setDrag=function(t,e){this.dragX=t,this.dragY=e},a.prototype.getMainMotionManager=function(){return this.mainMotionManager},a.prototype.getExpressionManager=function(){return this.expressionManager},a.prototype.loadModelData=function(t,e){this.debugMode&&console.log("Load model : "+t);var o=this;(0,I.loadBytes)(t,"arraybuffer",function(t){o.live2DModel=p.Live2DModelWebGL.loadModel(t),o.live2DModel.saveParam();var a=p.Live2D.getError();return 0!=a?void console.error("Error : Failed to loadModelData()."):(o.modelMatrix=new l(o.live2DModel.getCanvasWidth(),o.live2DModel.getCanvasHeight()),o.modelMatrix.setWidth(2),o.modelMatrix.setCenterPosition(0,0),void e(o.live2DModel))})},a.prototype.loadTexture=function(t,e,o,a){f++,this.debugMode&&console.log("Load Texture : "+o);var i=this;this._loadTexture(t,this.live2DModel,e,o,function(){f--,0==f&&(i.isTexLoaded=!0),"function"==typeof a&&a()})},a.prototype._loadTexture=function(t,e,o,a,i){var r=new Image;r.src=a;r.onload=function(){var a=t.createTexture();return a?(0==e.isPremultipliedAlpha()&&t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,0),e.setTexture(o,a),void("function"==typeof i&&i())):(console.error("Failed to generate gl texture name."),-1)},r.onerror=function(){console.error("Failed to load image : "+a)}},a.prototype.loadMotion=function(t,e,o){this.debugMode&&console.log("Load Motion : "+e);var a=null,i=this;(0,I.loadBytes)(e,"arraybuffer",function(e){a=p.Live2DMotion.loadMotion(e),null!=t&&(i.motions[t]=a),o(a)})},a.prototype.loadExpression=function(t,e,o){this.debugMode&&console.log("Load Expression : "+e);var a=this;(0,I.loadBytes)(e,"json",function(e){null!=t&&(a.expressions[t]=i.loadJson(e)),"function"==typeof o&&o()})},a.prototype.loadPose=function(t,e){this.debugMode&&console.log("Load Pose : "+t);var o=this;try{(0,I.loadBytes)(t,"json",function(t){o.pose=M.load(t),"function"==typeof e&&e()})}catch(t){console.warn(t)}},a.prototype.loadPhysics=function(t){this.debugMode&&console.log("Load Physics : "+t);var e=this;try{(0,I.loadBytes)(t,"json",function(t){e.physics=h.load(t)})}catch(t){console.warn(t)}},a.prototype.hitTestSimple=function(t,e,o){var a=this.live2DModel.getDrawDataIndex(t);if(a<0)return!1;for(var i=this.live2DModel.getTransformedPoints(a),r=this.live2DModel.getCanvasWidth(),n=0,s=this.live2DModel.getCanvasHeight(),l=0,u=0;u<i.length;u+=2){var h=i[u],M=i[u+1];h<r&&(r=h),h>n&&(n=h),M<s&&(s=M),M>l&&(l=M)}var d=this.modelMatrix.invertTransformX(e),c=this.modelMatrix.invertTransformY(o);return r<=d&&d<=n&&s<=c&&c<=l},i.prototype=new p.AMotion,i.EXPRESSION_DEFAULT="DEFAULT",i.TYPE_SET=0,i.TYPE_ADD=1,i.TYPE_MULT=2,i.loadJson=function(t){var e=new i;if(e.setFadeIn(parseInt(t.fade_in)>0?parseInt(t.fade_in):1e3),e.setFadeOut(parseInt(t.fade_out)>0?parseInt(t.fade_out):1e3),null==t.params)return e;var o=t.params,a=o.length;e.paramList=[];for(var n=0;n<a;n++){var s=o[n],l=s.id.toString(),u=parseFloat(s.val),h=i.TYPE_ADD,M=null!=s.calc?s.calc.toString():"add";if(h="add"===M?i.TYPE_ADD:"mult"===M?i.TYPE_MULT:"set"===M?i.TYPE_SET:i.TYPE_ADD,h==i.TYPE_ADD){var d=null==s.def?0:parseFloat(s.def);u-=d}else if(h==i.TYPE_MULT){var d=null==s.def?1:parseFloat(s.def);0==d&&(d=1),u/=d}var c=new r;c.id=l,c.type=h,c.value=u,e.paramList.push(c)}return e},i.prototype.updateParamExe=function(t,e,o,a){for(var r=this.paramList.length-1;r>=0;--r){var n=this.paramList[r];n.type==i.TYPE_ADD?t.addToParamFloat(n.id,n.value,o):n.type==i.TYPE_MULT?t.multParamFloat(n.id,n.value,o):n.type==i.TYPE_SET&&t.setParamFloat(n.id,n.value,o)}},n.prototype.calcNextBlink=function(){var t=p.UtSystem.getUserTimeMSec(),e=Math.random();return t+e*(2*this.blinkIntervalMsec-1)},n.prototype.setInterval=function(t){this.blinkIntervalMsec=t},n.prototype.setEyeMotion=function(t,e,o){this.closingMotionMsec=t,this.closedMotionMsec=e,this.openingMotionMsec=o},n.prototype.updateParam=function(t){var e,o=p.UtSystem.getUserTimeMSec(),a=0;switch(this.eyeState){case x.STATE_CLOSING:a=(o-this.stateStartTime)/this.closingMotionMsec,a>=1&&(a=1,this.eyeState=x.STATE_CLOSED,this.stateStartTime=o),e=1-a;break;case x.STATE_CLOSED:a=(o-this.stateStartTime)/this.closedMotionMsec,a>=1&&(this.eyeState=x.STATE_OPENING,this.stateStartTime=o),e=0;break;case x.STATE_OPENING:a=(o-this.stateStartTime)/this.openingMotionMsec,a>=1&&(a=1,this.eyeState=x.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),e=a;break;case x.STATE_INTERVAL:this.nextBlinkTime<o&&(this.eyeState=x.STATE_CLOSING,this.stateStartTime=o),e=1;break;case x.STATE_FIRST:default:this.eyeState=x.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),e=1}this.closeIfZero||(e=-e),t.setParamFloat(this.eyeID_L,e),t.setParamFloat(this.eyeID_R,e)};var x=function(){};x.STATE_FIRST="STATE_FIRST",x.STATE_INTERVAL="STATE_INTERVAL",x.STATE_CLOSING="STATE_CLOSING",x.STATE_CLOSED="STATE_CLOSED",x.STATE_OPENING="STATE_OPENING",s.mul=function(t,e,o){var a,i,r,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=4;for(a=0;a<s;a++)for(i=0;i<s;i++)for(r=0;r<s;r++)n[a+4*i]+=t[a+4*r]*e[r+4*i];for(a=0;a<16;a++)o[a]=n[a]},s.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},s.prototype.getArray=function(){return this.tr},s.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},s.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var e=0;e<16;e++)this.tr[e]=t[e]},s.prototype.getScaleX=function(){return this.tr[0]},s.prototype.getScaleY=function(){return this.tr[5]},s.prototype.transformX=function(t){return this.tr[0]*t+this.tr[12]},s.prototype.transformY=function(t){return this.tr[5]*t+this.tr[13]},s.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},s.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},s.prototype.multTranslate=function(t,e){var o=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];s.mul(o,this.tr,this.tr)},s.prototype.translate=function(t,e){this.tr[12]=t,this.tr[13]=e},s.prototype.translateX=function(t){this.tr[12]=t},s.prototype.translateY=function(t){this.tr[13]=t},s.prototype.multScale=function(t,e){var o=[t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1];s.mul(o,this.tr,this.tr)},s.prototype.scale=function(t,e){this.tr[0]=t,this.tr[5]=e},l.prototype=new s,l.prototype.setPosition=function(t,e){this.translate(t,e)},l.prototype.setCenterPosition=function(t,e){var o=this.width*this.getScaleX(),a=this.height*this.getScaleY();this.translate(t-o/2,e-a/2)},l.prototype.top=function(t){this.setY(t)},l.prototype.bottom=function(t){var e=this.height*this.getScaleY();this.translateY(t-e)},l.prototype.left=function(t){this.setX(t)},l.prototype.right=function(t){var e=this.width*this.getScaleX();this.translateX(t-e)},l.prototype.centerX=function(t){var e=this.width*this.getScaleX();this.translateX(t-e/2)},l.prototype.centerY=function(t){var e=this.height*this.getScaleY();this.translateY(t-e/2)},l.prototype.setX=function(t){this.translateX(t)},l.prototype.setY=function(t){this.translateY(t)},l.prototype.setHeight=function(t){var e=t/this.height,o=-e;this.scale(e,o)},l.prototype.setWidth=function(t){var e=t/this.width,o=-e;this.scale(e,o)},u.prototype=new p.MotionQueueManager,u.prototype.getCurrentPriority=function(){return this.currentPriority},u.prototype.getReservePriority=function(){return this.reservePriority},u.prototype.reserveMotion=function(t){return!(this.reservePriority>=t)&&(!(this.currentPriority>=t)&&(this.reservePriority=t,!0))},u.prototype.setReservePriority=function(t){this.reservePriority=t},u.prototype.updateParam=function(t){var e=p.MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),e},u.prototype.startMotionPrio=function(t,e){return e==this.reservePriority&&(this.reservePriority=0),this.currentPriority=e,this.startMotion(t,!1)},h.load=function(t){for(var e=new h,o=t.physics_hair,a=o.length,i=0;i<a;i++){var r=o[i],n=new p.PhysicsHair,s=r.setup,l=parseFloat(s.length),u=parseFloat(s.regist),M=parseFloat(s.mass);n.setup(l,u,M);for(var d=r.src,c=d.length,S=0;S<c;S++){var I=d[S],f=I.id,x=p.PhysicsHair.Src.SRC_TO_X,D=I.ptype;"x"===D?x=p.PhysicsHair.Src.SRC_TO_X:"y"===D?x=p.PhysicsHair.Src.SRC_TO_Y:"angle"===D?x=p.PhysicsHair.Src.SRC_TO_G_ANGLE:p.UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var m=parseFloat(I.scale),F=parseFloat(I.weight);n.addSrcParam(x,f,m,F)}for(var y=r.targets,v=y.length,S=0;S<v;S++){var g=y[S],f=g.id,x=p.PhysicsHair.Target.TARGET_FROM_ANGLE,D=g.ptype;"angle"===D?x=p.PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===D?x=p.PhysicsHair.Target.TARGET_FROM_ANGLE_V:p.UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");var m=parseFloat(g.scale),F=parseFloat(g.weight);n.addTargetParam(x,f,m,F)}e.physicsList.push(n)}return e},h.prototype.updateParam=function(t){for(var e=p.UtSystem.getUserTimeMSec()-this.startTimeMSec,o=0;o<this.physicsList.length;o++)this.physicsList[o].update(t,e)},M.load=function(t){for(var e=new M,o=t.parts_visible,a=o.length,i=0;i<a;i++){for(var r=o[i],n=r.group,s=n.length,l=new Array,u=0;u<s;u++){var h=n[u],c=new d(h.id);if(l[u]=c,null!=h.link){var S=h.link,p=S.length;c.link=new Array;for(var I=0;I<p;I++){var f=new d(S[I]);c.link.push(f)}}}e.partsGroups.push(l)}return e},M.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var e=p.UtSystem.getUserTimeMSec(),o=0==this.lastTime?0:(e-this.lastTime)/1e3;this.lastTime=e,o<0&&(o=0);for(var a=0;a<this.partsGroups.length;a++)this.normalizePartsOpacityGroup(t,this.partsGroups[a],o),this.copyOpacityOtherParts(t,this.partsGroups[a])}},M.prototype.initParam=function(t){if(null!=t)for(var e=0;e<this.partsGroups.length;e++)for(var o=this.partsGroups[e],a=0;a<o.length;a++){o[a].initIndex(t);var i=o[a].partsIndex,r=o[a].paramIndex;if(!(i<0)){var n=0!=t.getParamFloat(r);if(t.setPartsOpacity(i,n?1:0),t.setParamFloat(r,n?1:0),null!=o[a].link)for(var s=0;s<o[a].link.length;s++)o[a].link[s].initIndex(t)}}},M.prototype.normalizePartsOpacityGroup=function(t,e,o){for(var a=-1,i=1,r=.5,n=.5,s=.15,l=0;l<e.length;l++){var u=e[l].partsIndex,h=e[l].paramIndex;if(!(u<0)&&0!=t.getParamFloat(h)){if(a>=0)break;a=l,i=t.getPartsOpacity(u),i+=o/r,i>1&&(i=1)}}a<0&&(a=0,i=1);for(var l=0;l<e.length;l++){var u=e[l].partsIndex;if(!(u<0))if(a==l)t.setPartsOpacity(u,i);else{var M,d=t.getPartsOpacity(u);M=i<n?i*(n-1)/n+1:(1-i)*n/(1-n);var c=(1-M)*(1-i);c>s&&(M=1-s/(1-i)),d>M&&(d=M),t.setPartsOpacity(u,d)}}},M.prototype.copyOpacityOtherParts=function(t,e){for(var o=0;o<e.length;o++){var a=e[o];if(null!=a.link&&!(a.partsIndex<0))for(var i=t.getPartsOpacity(a.partsIndex),r=0;r<a.link.length;r++){var n=a.link[r];n.partsIndex<0||t.setPartsOpacity(n.partsIndex,i)}}},d.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(p.PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},c.FRAME_RATE=30,c.prototype.setPoint=function(t,e){this.faceTargetX=t,this.faceTargetY=e},c.prototype.getX=function(){return this.faceX},c.prototype.getY=function(){return this.faceY},c.prototype.update=function(){var t=.15,e=40/7.5,o=e/c.FRAME_RATE;if(0==this.lastTimeSec)return void(this.lastTimeSec=p.UtSystem.getUserTimeMSec());var a=p.UtSystem.getUserTimeMSec(),i=(a-this.lastTimeSec)*c.FRAME_RATE/1e3;this.lastTimeSec=a;var r=t*c.FRAME_RATE,n=i*o/r,s=this.faceTargetX-this.faceX,l=this.faceTargetY-this.faceY;if(!(Math.abs(s)<=this.EPSILON&&Math.abs(l)<=this.EPSILON)){var u=Math.sqrt(s*s+l*l),h=o*s/u,M=o*l/u,d=h-this.faceVX,S=M-this.faceVY,I=Math.sqrt(d*d+S*S);(I<-n||I>n)&&(d*=n/I,S*=n/I,I=n),this.faceVX+=d,this.faceVY+=S;var f=.5*(Math.sqrt(n*n+16*n*u-8*n*u)-n),x=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);x>f&&(this.faceVX*=f/x,this.faceVY*=f/x),this.faceX+=this.faceVX,this.faceY+=this.faceVY}},S.prototype=new s,S.prototype.getMaxScale=function(){return this.max},S.prototype.getMinScale=function(){return this.min},S.prototype.setMaxScale=function(t){this.max=t},S.prototype.setMinScale=function(t){this.min=t},S.prototype.isMaxScale=function(){return this.getScaleX()==this.max},S.prototype.isMinScale=function(){return this.getScaleX()==this.min},S.prototype.adjustTranslate=function(t,e){var o=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1];s.mul(o,this.tr,this.tr)},S.prototype.adjustScale=function(t,e,o,a){a||(a=o);var i=[1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1],r=[o,0,0,0,0,a,0,0,0,0,1,0,0,0,0,1],n=[1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1];
s.mul(n,this.tr,this.tr),s.mul(r,this.tr,this.tr),s.mul(i,this.tr,this.tr)},S.prototype.setScreenRect=function(t,e,o,a){this.screenLeft=t,this.screenRight=e,this.screenTop=a,this.screenBottom=o},S.prototype.setMaxScreenRect=function(t,e,o,a){this.maxLeft=t,this.maxRight=e,this.maxTop=a,this.maxBottom=o},S.prototype.getScreenLeft=function(){return this.screenLeft},S.prototype.getScreenRight=function(){return this.screenRight},S.prototype.getScreenBottom=function(){return this.screenBottom},S.prototype.getScreenTop=function(){return this.screenTop},S.prototype.getMaxLeft=function(){return this.maxLeft},S.prototype.getMaxRight=function(){return this.maxRight},S.prototype.getMaxBottom=function(){return this.maxBottom},S.prototype.getMaxTop=function(){return this.maxTop}},function(t,e,o){"use strict";function a(t,e,o){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onload=function(){switch(a.status){case 200:o(a.response);break;default:console.error("Failed to load ("+a.status+") : "+t)}},a.send(null)}Object.defineProperty(e,"__esModule",{value:!0}),e.loadBytes=a;o(1)},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(6),i={};e.default=i,i.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.depth=0,i.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.tmp=new Array(16),i.reset=function(){this.depth=0},i.loadIdentity=function(){this.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},i.push=function(){this.matrixStack.push(this.currentMatrix),this.depth++},i.pop=function(){this.depth--,this.depth<0&&(myError("Invalid matrix stack."),this.depth=0),this.currentMatrix=this.matrixStack.pop()},i.getMatrix=function(){return this.currentMatrix},i.multMatrix=function(t){a.multiply(this.currentMatrix,this.currentMatrix,t)}},function(t,e,o){"use strict";var a=o(7),i={scalar:{},SIMD:{}};i.create=function(){var t=new a.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new a.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.fromValues=function(t,e,o,i,r,n,s,l,u,h,M,d,c,S,p,I){var f=new a.ARRAY_TYPE(16);return f[0]=t,f[1]=e,f[2]=o,f[3]=i,f[4]=r,f[5]=n,f[6]=s,f[7]=l,f[8]=u,f[9]=h,f[10]=M,f[11]=d,f[12]=c,f[13]=S,f[14]=p,f[15]=I,f},i.set=function(t,e,o,a,i,r,n,s,l,u,h,M,d,c,S,p,I){return t[0]=e,t[1]=o,t[2]=a,t[3]=i,t[4]=r,t[5]=n,t[6]=s,t[7]=l,t[8]=u,t[9]=h,t[10]=M,t[11]=d,t[12]=c,t[13]=S,t[14]=p,t[15]=I,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,e){if(t===e){var o=e[1],a=e[2],i=e[3],r=e[6],n=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=o,t[6]=e[9],t[7]=e[13],t[8]=a,t[9]=r,t[11]=e[14],t[12]=i,t[13]=n,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.SIMD.transpose=function(t,e){var o,a,i,r,n,s,l,u,h,M;return o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),r=SIMD.Float32x4.load(e,12),n=SIMD.Float32x4.shuffle(o,a,0,1,4,5),s=SIMD.Float32x4.shuffle(i,r,0,1,4,5),l=SIMD.Float32x4.shuffle(n,s,0,2,4,6),u=SIMD.Float32x4.shuffle(n,s,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,u),n=SIMD.Float32x4.shuffle(o,a,2,3,6,7),s=SIMD.Float32x4.shuffle(i,r,2,3,6,7),h=SIMD.Float32x4.shuffle(n,s,0,2,4,6),M=SIMD.Float32x4.shuffle(n,s,1,3,5,7),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,M),t},i.transpose=a.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,e){var o=e[0],a=e[1],i=e[2],r=e[3],n=e[4],s=e[5],l=e[6],u=e[7],h=e[8],M=e[9],d=e[10],c=e[11],S=e[12],p=e[13],I=e[14],f=e[15],x=o*s-a*n,D=o*l-i*n,m=o*u-r*n,F=a*l-i*s,y=a*u-r*s,v=i*u-r*l,g=h*p-M*S,T=h*I-d*S,E=h*f-c*S,P=M*I-d*p,_=M*f-c*p,A=d*f-c*I,R=x*A-D*_+m*P+F*E-y*T+v*g;return R?(R=1/R,t[0]=(s*A-l*_+u*P)*R,t[1]=(i*_-a*A-r*P)*R,t[2]=(p*v-I*y+f*F)*R,t[3]=(d*y-M*v-c*F)*R,t[4]=(l*E-n*A-u*T)*R,t[5]=(o*A-i*E+r*T)*R,t[6]=(I*m-S*v-f*D)*R,t[7]=(h*v-d*m+c*D)*R,t[8]=(n*_-s*E+u*g)*R,t[9]=(a*E-o*_-r*g)*R,t[10]=(S*y-p*m+f*x)*R,t[11]=(M*m-h*y-c*x)*R,t[12]=(s*T-n*P-l*g)*R,t[13]=(o*P-a*T+i*g)*R,t[14]=(p*D-S*F-I*x)*R,t[15]=(h*F-M*D+d*x)*R,t):null},i.SIMD.invert=function(t,e){var o,a,i,r,n,s,l,u,h,M,d=SIMD.Float32x4.load(e,0),c=SIMD.Float32x4.load(e,4),S=SIMD.Float32x4.load(e,8),p=SIMD.Float32x4.load(e,12);return n=SIMD.Float32x4.shuffle(d,c,0,1,4,5),a=SIMD.Float32x4.shuffle(S,p,0,1,4,5),o=SIMD.Float32x4.shuffle(n,a,0,2,4,6),a=SIMD.Float32x4.shuffle(a,n,1,3,5,7),n=SIMD.Float32x4.shuffle(d,c,2,3,6,7),r=SIMD.Float32x4.shuffle(S,p,2,3,6,7),i=SIMD.Float32x4.shuffle(n,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,n,1,3,5,7),n=SIMD.Float32x4.mul(i,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),s=SIMD.Float32x4.mul(a,n),l=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,n),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),n=SIMD.Float32x4.mul(a,i),n=SIMD.Float32x4.swizzle(n,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),s),h=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,n)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),n=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(a,2,3,0,1),r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,n),s),u=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,n)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),n=SIMD.Float32x4.mul(o,a),n=SIMD.Float32x4.swizzle(n,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),u),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,n),h),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,n),u),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(i,n)),n=SIMD.Float32x4.mul(o,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,n)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,n),u),n=SIMD.Float32x4.swizzle(n,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,n),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,n)),n=SIMD.Float32x4.mul(o,i),n=SIMD.Float32x4.swizzle(n,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),l),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(a,n)),n=SIMD.Float32x4.swizzle(n,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,n)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,n),h),M=SIMD.Float32x4.mul(o,s),M=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(M,2,3,0,1),M),M=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(M,1,0,3,2),M),n=SIMD.Float32x4.reciprocalApproximation(M),M=SIMD.Float32x4.sub(SIMD.Float32x4.add(n,n),SIMD.Float32x4.mul(M,SIMD.Float32x4.mul(n,n))),(M=SIMD.Float32x4.swizzle(M,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(M,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(M,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(M,u)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(M,h)),t):null},i.invert=a.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,e){var o=e[0],a=e[1],i=e[2],r=e[3],n=e[4],s=e[5],l=e[6],u=e[7],h=e[8],M=e[9],d=e[10],c=e[11],S=e[12],p=e[13],I=e[14],f=e[15];return t[0]=s*(d*f-c*I)-M*(l*f-u*I)+p*(l*c-u*d),t[1]=-(a*(d*f-c*I)-M*(i*f-r*I)+p*(i*c-r*d)),t[2]=a*(l*f-u*I)-s*(i*f-r*I)+p*(i*u-r*l),t[3]=-(a*(l*c-u*d)-s*(i*c-r*d)+M*(i*u-r*l)),t[4]=-(n*(d*f-c*I)-h*(l*f-u*I)+S*(l*c-u*d)),t[5]=o*(d*f-c*I)-h*(i*f-r*I)+S*(i*c-r*d),t[6]=-(o*(l*f-u*I)-n*(i*f-r*I)+S*(i*u-r*l)),t[7]=o*(l*c-u*d)-n*(i*c-r*d)+h*(i*u-r*l),t[8]=n*(M*f-c*p)-h*(s*f-u*p)+S*(s*c-u*M),t[9]=-(o*(M*f-c*p)-h*(a*f-r*p)+S*(a*c-r*M)),t[10]=o*(s*f-u*p)-n*(a*f-r*p)+S*(a*u-r*s),t[11]=-(o*(s*c-u*M)-n*(a*c-r*M)+h*(a*u-r*s)),t[12]=-(n*(M*I-d*p)-h*(s*I-l*p)+S*(s*d-l*M)),t[13]=o*(M*I-d*p)-h*(a*I-i*p)+S*(a*d-i*M),t[14]=-(o*(s*I-l*p)-n*(a*I-i*p)+S*(a*l-i*s)),t[15]=o*(s*d-l*M)-n*(a*d-i*M)+h*(a*l-i*s),t},i.SIMD.adjoint=function(t,e){var o,a,i,r,n,s,l,u,h,M,d,c,S;return o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),r=SIMD.Float32x4.load(e,12),h=SIMD.Float32x4.shuffle(o,a,0,1,4,5),s=SIMD.Float32x4.shuffle(i,r,0,1,4,5),n=SIMD.Float32x4.shuffle(h,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,h,1,3,5,7),h=SIMD.Float32x4.shuffle(o,a,2,3,6,7),u=SIMD.Float32x4.shuffle(i,r,2,3,6,7),l=SIMD.Float32x4.shuffle(h,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,h,1,3,5,7),h=SIMD.Float32x4.mul(l,u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),M=SIMD.Float32x4.mul(s,h),d=SIMD.Float32x4.mul(n,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,h),M),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,h),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),h=SIMD.Float32x4.mul(s,l),h=SIMD.Float32x4.swizzle(h,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),M),S=SIMD.Float32x4.mul(n,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(u,h)),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,h),S),S=SIMD.Float32x4.swizzle(S,2,3,0,1),h=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,h),M),c=SIMD.Float32x4.mul(n,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(l,h)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,h),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.mul(n,s),h=SIMD.Float32x4.swizzle(h,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),c),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,h),S),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,h),c),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(l,h)),h=SIMD.Float32x4.mul(n,u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,h)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,h),c),h=SIMD.Float32x4.swizzle(h,2,3,0,1),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,h),d),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(s,h)),h=SIMD.Float32x4.mul(n,l),h=SIMD.Float32x4.swizzle(h,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),d),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(s,h)),h=SIMD.Float32x4.swizzle(h,2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(u,h)),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,h),S),SIMD.Float32x4.store(t,0,M),SIMD.Float32x4.store(t,4,d),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,S),t},i.adjoint=a.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var e=t[0],o=t[1],a=t[2],i=t[3],r=t[4],n=t[5],s=t[6],l=t[7],u=t[8],h=t[9],M=t[10],d=t[11],c=t[12],S=t[13],p=t[14],I=t[15],f=e*n-o*r,x=e*s-a*r,D=e*l-i*r,m=o*s-a*n,F=o*l-i*n,y=a*l-i*s,v=u*S-h*c,g=u*p-M*c,T=u*I-d*c,E=h*p-M*S,P=h*I-d*S,_=M*I-d*p;return f*_-x*P+D*E+m*T-F*g+y*v},i.SIMD.multiply=function(t,e,o){var a=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),n=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(o,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),n))));SIMD.Float32x4.store(t,0,l);var u=SIMD.Float32x4.load(o,4),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),n))));SIMD.Float32x4.store(t,4,h);var M=SIMD.Float32x4.load(o,8),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),n))));SIMD.Float32x4.store(t,8,d);var c=SIMD.Float32x4.load(o,12),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),n))));return SIMD.Float32x4.store(t,12,S),t},i.scalar.multiply=function(t,e,o){var a=e[0],i=e[1],r=e[2],n=e[3],s=e[4],l=e[5],u=e[6],h=e[7],M=e[8],d=e[9],c=e[10],S=e[11],p=e[12],I=e[13],f=e[14],x=e[15],D=o[0],m=o[1],F=o[2],y=o[3];return t[0]=D*a+m*s+F*M+y*p,t[1]=D*i+m*l+F*d+y*I,t[2]=D*r+m*u+F*c+y*f,t[3]=D*n+m*h+F*S+y*x,D=o[4],m=o[5],F=o[6],y=o[7],t[4]=D*a+m*s+F*M+y*p,t[5]=D*i+m*l+F*d+y*I,t[6]=D*r+m*u+F*c+y*f,t[7]=D*n+m*h+F*S+y*x,D=o[8],m=o[9],F=o[10],y=o[11],t[8]=D*a+m*s+F*M+y*p,t[9]=D*i+m*l+F*d+y*I,t[10]=D*r+m*u+F*c+y*f,t[11]=D*n+m*h+F*S+y*x,D=o[12],m=o[13],F=o[14],y=o[15],t[12]=D*a+m*s+F*M+y*p,t[13]=D*i+m*l+F*d+y*I,t[14]=D*r+m*u+F*c+y*f,t[15]=D*n+m*h+F*S+y*x,t},i.multiply=a.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,e,o){var a,i,r,n,s,l,u,h,M,d,c,S,p=o[0],I=o[1],f=o[2];return e===t?(t[12]=e[0]*p+e[4]*I+e[8]*f+e[12],t[13]=e[1]*p+e[5]*I+e[9]*f+e[13],t[14]=e[2]*p+e[6]*I+e[10]*f+e[14],t[15]=e[3]*p+e[7]*I+e[11]*f+e[15]):(a=e[0],i=e[1],r=e[2],n=e[3],s=e[4],l=e[5],u=e[6],h=e[7],M=e[8],d=e[9],c=e[10],S=e[11],t[0]=a,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=l,t[6]=u,t[7]=h,t[8]=M,t[9]=d,t[10]=c,t[11]=S,t[12]=a*p+s*I+M*f+e[12],t[13]=i*p+l*I+d*f+e[13],t[14]=r*p+u*I+c*f+e[14],t[15]=n*p+h*I+S*f+e[15]),t},i.SIMD.translate=function(t,e,o){var a=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),n=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(o[0],o[1],o[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(s,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,1,1,1,1)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(a,SIMD.Float32x4.add(i,SIMD.Float32x4.add(r,n)));return SIMD.Float32x4.store(t,12,l),t},i.translate=a.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,e,o){var a=o[0],i=o[1],r=o[2];return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.SIMD.scale=function(t,e,o){var a,i,r,n=SIMD.Float32x4(o[0],o[1],o[2],0);return a=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(n,0,0,0,0))),i=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(n,1,1,1,1))),r=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(n,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.scale=a.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,e,o,i){var r,n,s,l,u,h,M,d,c,S,p,I,f,x,D,m,F,y,v,g,T,E,P,_,A=i[0],R=i[1],b=i[2],L=Math.sqrt(A*A+R*R+b*b);return Math.abs(L)<a.EPSILON?null:(L=1/L,A*=L,R*=L,b*=L,r=Math.sin(o),n=Math.cos(o),s=1-n,l=e[0],u=e[1],h=e[2],M=e[3],d=e[4],c=e[5],S=e[6],p=e[7],I=e[8],f=e[9],x=e[10],D=e[11],m=A*A*s+n,F=R*A*s+b*r,y=b*A*s-R*r,v=A*R*s-b*r,g=R*R*s+n,T=b*R*s+A*r,E=A*b*s+R*r,P=R*b*s-A*r,_=b*b*s+n,t[0]=l*m+d*F+I*y,t[1]=u*m+c*F+f*y,t[2]=h*m+S*F+x*y,t[3]=M*m+p*F+D*y,t[4]=l*v+d*g+I*T,t[5]=u*v+c*g+f*T,t[6]=h*v+S*g+x*T,t[7]=M*v+p*g+D*T,t[8]=l*E+d*P+I*_,t[9]=u*E+c*P+f*_,t[10]=h*E+S*P+x*_,t[11]=M*E+p*P+D*_,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.scalar.rotateX=function(t,e,o){var a=Math.sin(o),i=Math.cos(o),r=e[4],n=e[5],s=e[6],l=e[7],u=e[8],h=e[9],M=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*i+u*a,t[5]=n*i+h*a,t[6]=s*i+M*a,t[7]=l*i+d*a,t[8]=u*i-r*a,t[9]=h*i-n*a,t[10]=M*i-s*a,t[11]=d*i-l*a,t},i.SIMD.rotateX=function(t,e,o){var a=SIMD.Float32x4.splat(Math.sin(o)),i=SIMD.Float32x4.splat(Math.cos(o));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var r=SIMD.Float32x4.load(e,4),n=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),SIMD.Float32x4.mul(n,a))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),SIMD.Float32x4.mul(r,a))),t},i.rotateX=a.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,e,o){var a=Math.sin(o),i=Math.cos(o),r=e[0],n=e[1],s=e[2],l=e[3],u=e[8],h=e[9],M=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*i-u*a,t[1]=n*i-h*a,t[2]=s*i-M*a,t[3]=l*i-d*a,t[8]=r*a+u*i,t[9]=n*a+h*i,t[10]=s*a+M*i,t[11]=l*a+d*i,t},i.SIMD.rotateY=function(t,e,o){var a=SIMD.Float32x4.splat(Math.sin(o)),i=SIMD.Float32x4.splat(Math.cos(o));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),SIMD.Float32x4.mul(n,a))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),SIMD.Float32x4.mul(n,i))),t},i.rotateY=a.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,e,o){var a=Math.sin(o),i=Math.cos(o),r=e[0],n=e[1],s=e[2],l=e[3],u=e[4],h=e[5],M=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*i+u*a,t[1]=n*i+h*a,t[2]=s*i+M*a,t[3]=l*i+d*a,t[4]=u*i-r*a,t[5]=h*i-n*a,t[6]=M*i-s*a,t[7]=d*i-l*a,t},i.SIMD.rotateZ=function(t,e,o){var a=SIMD.Float32x4.splat(Math.sin(o)),i=SIMD.Float32x4.splat(Math.cos(o));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),SIMD.Float32x4.mul(n,a))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),SIMD.Float32x4.mul(r,a))),t},i.rotateZ=a.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,o){var i,r,n,s=o[0],l=o[1],u=o[2],h=Math.sqrt(s*s+l*l+u*u);return Math.abs(h)<a.EPSILON?null:(h=1/h,s*=h,l*=h,u*=h,i=Math.sin(e),r=Math.cos(e),n=1-r,t[0]=s*s*n+r,t[1]=l*s*n+u*i,t[2]=u*s*n-l*i,t[3]=0,t[4]=s*l*n-u*i,t[5]=l*l*n+r,t[6]=u*l*n+s*i,t[7]=0,t[8]=s*u*n+l*i,t[9]=l*u*n-s*i,t[10]=u*u*n+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var o=Math.sin(e),a=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=o,t[7]=0,t[8]=0,t[9]=-o,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var o=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=0,t[2]=-o,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=o,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var o=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=o,t[2]=0,t[3]=0,t[4]=-o,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,o){var a=e[0],i=e[1],r=e[2],n=e[3],s=a+a,l=i+i,u=r+r,h=a*s,M=a*l,d=a*u,c=i*l,S=i*u,p=r*u,I=n*s,f=n*l,x=n*u;return t[0]=1-(c+p),t[1]=M+x,t[2]=d-f,t[3]=0,t[4]=M-x,t[5]=1-(h+p),t[6]=S+I,t[7]=0,t[8]=d+f,t[9]=S-I,t[10]=1-(h+c),t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t},i.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},i.getScaling=function(t,e){var o=e[0],a=e[1],i=e[2],r=e[4],n=e[5],s=e[6],l=e[8],u=e[9],h=e[10];return t[0]=Math.sqrt(o*o+a*a+i*i),t[1]=Math.sqrt(r*r+n*n+s*s),t[2]=Math.sqrt(l*l+u*u+h*h),t},i.getRotation=function(t,e){var o=e[0]+e[5]+e[10],a=0;return o>0?(a=2*Math.sqrt(o+1),t[3]=.25*a,t[0]=(e[6]-e[9])/a,t[1]=(e[8]-e[2])/a,t[2]=(e[1]-e[4])/a):e[0]>e[5]&e[0]>e[10]?(a=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/a,t[0]=.25*a,t[1]=(e[1]+e[4])/a,t[2]=(e[8]+e[2])/a):e[5]>e[10]?(a=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/a,t[0]=(e[1]+e[4])/a,t[1]=.25*a,t[2]=(e[6]+e[9])/a):(a=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/a,t[0]=(e[8]+e[2])/a,t[1]=(e[6]+e[9])/a,t[2]=.25*a),t},i.fromRotationTranslationScale=function(t,e,o,a){var i=e[0],r=e[1],n=e[2],s=e[3],l=i+i,u=r+r,h=n+n,M=i*l,d=i*u,c=i*h,S=r*u,p=r*h,I=n*h,f=s*l,x=s*u,D=s*h,m=a[0],F=a[1],y=a[2];return t[0]=(1-(S+I))*m,t[1]=(d+D)*m,t[2]=(c-x)*m,t[3]=0,t[4]=(d-D)*F,t[5]=(1-(M+I))*F,t[6]=(p+f)*F,t[7]=0,t[8]=(c+x)*y,t[9]=(p-f)*y,t[10]=(1-(M+S))*y,t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,o,a,i){var r=e[0],n=e[1],s=e[2],l=e[3],u=r+r,h=n+n,M=s+s,d=r*u,c=r*h,S=r*M,p=n*h,I=n*M,f=s*M,x=l*u,D=l*h,m=l*M,F=a[0],y=a[1],v=a[2],g=i[0],T=i[1],E=i[2];return t[0]=(1-(p+f))*F,t[1]=(c+m)*F,t[2]=(S-D)*F,t[3]=0,t[4]=(c-m)*y,t[5]=(1-(d+f))*y,t[6]=(I+x)*y,t[7]=0,t[8]=(S+D)*v,t[9]=(I-x)*v,t[10]=(1-(d+p))*v,t[11]=0,t[12]=o[0]+g-(t[0]*g+t[4]*T+t[8]*E),t[13]=o[1]+T-(t[1]*g+t[5]*T+t[9]*E),t[14]=o[2]+E-(t[2]*g+t[6]*T+t[10]*E),t[15]=1,t},i.fromQuat=function(t,e){var o=e[0],a=e[1],i=e[2],r=e[3],n=o+o,s=a+a,l=i+i,u=o*n,h=a*n,M=a*s,d=i*n,c=i*s,S=i*l,p=r*n,I=r*s,f=r*l;return t[0]=1-M-S,t[1]=h+f,t[2]=d-I,t[3]=0,t[4]=h-f,t[5]=1-u-S,t[6]=c+p,t[7]=0,t[8]=d+I,t[9]=c-p,t[10]=1-u-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,o,a,i,r,n){var s=1/(o-e),l=1/(i-a),u=1/(r-n);return t[0]=2*r*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*l,t[6]=0,t[7]=0,t[8]=(o+e)*s,t[9]=(i+a)*l,t[10]=(n+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r*2*u,t[15]=0,t},i.perspective=function(t,e,o,a,i){var r=1/Math.tan(e/2),n=1/(a-i);return t[0]=r/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+a)*n,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*a*n,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,o,a){var i=Math.tan(e.upDegrees*Math.PI/180),r=Math.tan(e.downDegrees*Math.PI/180),n=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(n+s),u=2/(i+r);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((n-s)*l*.5),t[9]=(i-r)*u*.5,t[10]=a/(o-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o/(o-a),t[15]=0,t},i.ortho=function(t,e,o,a,i,r,n){var s=1/(e-o),l=1/(a-i),u=1/(r-n);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+o)*s,t[13]=(i+a)*l,t[14]=(n+r)*u,t[15]=1,t},i.lookAt=function(t,e,o,r){var n,s,l,u,h,M,d,c,S,p,I=e[0],f=e[1],x=e[2],D=r[0],m=r[1],F=r[2],y=o[0],v=o[1],g=o[2];return Math.abs(I-y)<a.EPSILON&&Math.abs(f-v)<a.EPSILON&&Math.abs(x-g)<a.EPSILON?i.identity(t):(d=I-y,c=f-v,S=x-g,p=1/Math.sqrt(d*d+c*c+S*S),d*=p,c*=p,S*=p,n=m*S-F*c,s=F*d-D*S,l=D*c-m*d,p=Math.sqrt(n*n+s*s+l*l),p?(p=1/p,n*=p,s*=p,l*=p):(n=0,s=0,l=0),u=c*l-S*s,h=S*n-d*l,M=d*s-c*n,p=Math.sqrt(u*u+h*h+M*M),p?(p=1/p,u*=p,h*=p,M*=p):(u=0,h=0,M=0),t[0]=n,t[1]=u,t[2]=d,t[3]=0,t[4]=s,t[5]=h,t[6]=c,t[7]=0,t[8]=l,t[9]=M,t[10]=S,t[11]=0,t[12]=-(n*I+s*f+l*x),t[13]=-(u*I+h*f+M*x),t[14]=-(d*I+c*f+S*x),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,e,o){return t[0]=e[0]+o[0],t[1]=e[1]+o[1],t[2]=e[2]+o[2],t[3]=e[3]+o[3],t[4]=e[4]+o[4],t[5]=e[5]+o[5],t[6]=e[6]+o[6],t[7]=e[7]+o[7],t[8]=e[8]+o[8],t[9]=e[9]+o[9],t[10]=e[10]+o[10],t[11]=e[11]+o[11],t[12]=e[12]+o[12],t[13]=e[13]+o[13],t[14]=e[14]+o[14],t[15]=e[15]+o[15],t},i.subtract=function(t,e,o){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t[2]=e[2]-o[2],t[3]=e[3]-o[3],t[4]=e[4]-o[4],t[5]=e[5]-o[5],t[6]=e[6]-o[6],t[7]=e[7]-o[7],t[8]=e[8]-o[8],t[9]=e[9]-o[9],t[10]=e[10]-o[10],t[11]=e[11]-o[11],t[12]=e[12]-o[12],t[13]=e[13]-o[13],t[14]=e[14]-o[14],t[15]=e[15]-o[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,o){return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12]*o,t[13]=e[13]*o,t[14]=e[14]*o,t[15]=e[15]*o,t},i.multiplyScalarAndAdd=function(t,e,o,a){return t[0]=e[0]+o[0]*a,t[1]=e[1]+o[1]*a,t[2]=e[2]+o[2]*a,t[3]=e[3]+o[3]*a,t[4]=e[4]+o[4]*a,t[5]=e[5]+o[5]*a,t[6]=e[6]+o[6]*a,t[7]=e[7]+o[7]*a,t[8]=e[8]+o[8]*a,t[9]=e[9]+o[9]*a,t[10]=e[10]+o[10]*a,t[11]=e[11]+o[11]*a,t[12]=e[12]+o[12]*a,t[13]=e[13]+o[13]*a,t[14]=e[14]+o[14]*a,t[15]=e[15]+o[15]*a,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},i.equals=function(t,e){var o=t[0],i=t[1],r=t[2],n=t[3],s=t[4],l=t[5],u=t[6],h=t[7],M=t[8],d=t[9],c=t[10],S=t[11],p=t[12],I=t[13],f=t[14],x=t[15],D=e[0],m=e[1],F=e[2],y=e[3],v=e[4],g=e[5],T=e[6],E=e[7],P=e[8],_=e[9],A=e[10],R=e[11],b=e[12],L=e[13],O=e[14],w=e[15];return Math.abs(o-D)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(i-m)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(r-F)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(F))&&Math.abs(n-y)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(s-v)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-g)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-T)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(h-E)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(M-P)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(P))&&Math.abs(d-_)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(_))&&Math.abs(c-A)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(S-R)<=a.EPSILON*Math.max(1,Math.abs(S),Math.abs(R))&&Math.abs(p-b)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(b))&&Math.abs(I-L)<=a.EPSILON*Math.max(1,Math.abs(I),Math.abs(L))&&Math.abs(f-O)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(x-w)<=a.EPSILON*Math.max(1,Math.abs(x),Math.abs(w))},t.exports=i},function(t,e){(function(e){"use strict";var o={};o.EPSILON=1e-6,o.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,o.RANDOM=Math.random,o.ENABLE_SIMD=!1;var a=window||e;o.SIMD_AVAILABLE=o.ARRAY_TYPE===a.Float32Array&&"SIMD"in a,o.USE_SIMD=o.ENABLE_SIMD&&o.SIMD_AVAILABLE,o.setMatrixArrayType=function(t){o.ARRAY_TYPE=t};var i=Math.PI/180;o.toRadian=function(t){return t*i},o.equals=function(t,e){return Math.abs(t-e)<=o.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=o}).call(e,function(){return this}())},function(t,e){"use strict";function o(t){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json=t||{}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,o.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},o.prototype.getModelFile=function(){return this.json[this.MODEL]},o.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},o.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},o.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},o.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},o.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},o.prototype.getPoseFile=function(){return this.json[this.POSE]},o.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},o.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},o.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},o.prototype.getLayout=function(){return this.json[this.LAYOUT]},o.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},o.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},o.prototype.getMotionFile=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]?null:this.json[this.MOTION_GROUPS][t][e][this.FILE]},o.prototype.getMotionSound=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][e][this.SOUND]},o.prototype.getMotionFadeIn=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_IN]},o.prototype.getMotionFadeOut=function(t,e){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][e]||null==this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][e][this.FADE_OUT]},o.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},o.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},o.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},o.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},o.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}},function(e,o){e.exports=t}])});
//# sourceMappingURL=pixi-live2d.min.js.map